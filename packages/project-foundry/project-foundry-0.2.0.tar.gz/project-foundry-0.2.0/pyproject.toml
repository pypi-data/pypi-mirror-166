[build-system]
requires = [
    "pdm-pep517~=1.0",
]
build-backend = "pdm.pep517.api"

[project]
name = "project-foundry"
description = "A tool for casting projects from molds."
readme = "README.md"
requires-python = "~=3.10"
license-expression = "MIT AND CC0-1.0 AND CC-BY-SA-4.0"
authors = [
    { name = "crai0", email = "crai0@posteo.net" },
]
keywords = [
    "command line tool",
    "templating",
    "project templating",
]
classifiers = [
    "Development Status :: 1 - Planning",
    "Environment :: Console",
    "Intended Audience :: Developers",
    "Intended Audience :: Information Technology",
    "License :: CC0 1.0 Universal (CC0 1.0) Public Domain Dedication",
    "License :: OSI Approved :: MIT License",
    "Natural Language :: English",
    "Operating System :: OS Independent",
    "Programming Language :: Python",
    "Programming Language :: Python :: 3 :: Only",
    "Programming Language :: Python :: 3.10",
    "Topic :: Software Development",
    "Topic :: Utilities",
    "Typing :: Typed",
]
dynamic = []
dependencies = [
    "click~=8.1",
]
version = "0.2.0"

[project.license-files]
globs = [
    "LICENSES/*.txt",
]

[project.urls]
Homepage = "https://crai0.gitlab.io/project-foundry"
Changelog = "https://crai0.gitlab.io/project-foundry/changelog.html"
Source = "https://gitlab.com/crai0/project-foundry"
Tracker = "https://gitlab.com/crai0/project-foundry/-/issues"

[project.scripts]
project-foundry = "project_foundry.cli.main:cli"

[tool.pdm.version]
source = "scm"

[tool.pdm.build]
package-dir = "src"

[tool.pdm.scripts]
hooks = "pre-commit run --all-files --show-diff-on-failure"
tests = "pytest -n auto --cov=project_foundry --cov-report=term --cov-report=html tests"
tests-no-cov = "pytest -n auto --no-cov tests"
build-docs = "sphinx-build docs build/docs"
release = "python scripts/release.py"

[tool.pdm.dev-dependencies]
dev = [
    "towncrier~=21.9",
]
scripts = [
    "GitPython~=3.1",
    "semver~=2.13",
]
hooks = [
    "pre-commit~=2.20",
]
tests = [
    "pytest~=7.1",
    "pytest-cov~=3.0",
    "pytest-xdist~=2.5",
    "pytest-mock~=3.8",
    "covdefaults~=2.2",
    "packaging~=21.3",
]
docs = [
    "sphinx~=5.1",
    "sphinx-autodoc-typehints~=1.19",
    "furo>=2022.6.21",
]

[tool.black]
target-version = [
    "py310",
]

[tool.isort]
known_first_party = [
    "project_foundry",
    "tests",
]
profile = "black"

[tool.mypy]
strict = true
show_error_codes = true

[tool.coverage.run]
plugins = [
    "covdefaults",
]

[tool.towncrier]
name = "project-foundry"
package = "project_foundry"
directory = "news"
filename = "docs/changelog.rst"
title_format = "{version}"
underlines = "-~"
issue_format = ":issue:`{issue}`"

[tool.towncrier.feature]
name = "Features"

[tool.towncrier.bugfix]
name = "Bug Fixes"

[tool.towncrier.deprecation]
name = "Deprecations"

[tool.towncrier.removal]
name = "Removals"
