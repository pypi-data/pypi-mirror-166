import{d as C,u as b,a as g,c as k,r as v,e,o as S,b as x,w as m,i as p,a8 as B,a9 as D,f as T,U as i,aa as $,ab as F,p as d,Z as _}from"./index.3ef9dccd.js";import{u as N}from"./useRouteParam.481dae67.js";const M=C({__name:"FlowRunCreate",setup(V){const o=N("id"),a=b(),f=g(i.getDeployment,[o]),s=k(()=>f.response),y=async n=>{var r,t,u;try{const c=await i.createDeploymentFlowRun(o.value,n),l=(u=(t=(r=n.state)==null?void 0:r.stateDetails)==null?void 0:t.scheduledTime)!=null?u:void 0,h=!l,R=$(F,{flowRun:c,flowRunRoute:d.flowRun,router:a,immediate:h,startTime:l});_(R,"success"),a.push(d.deployment(o.value))}catch(c){_("Something went wrong trying to create a flow run","error"),console.error(c)}},w=()=>{a.back()};return(n,r)=>{const t=v("p-layout-default");return e(s)?(S(),x(t,{key:0},{header:m(()=>[p(e(B),{deployment:e(s)},null,8,["deployment"])]),default:m(()=>[p(e(D),{deployment:e(s),onSubmit:y,onCancel:w},null,8,["deployment"])]),_:1})):T("",!0)}}});export{M as default};
