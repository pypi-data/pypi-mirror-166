import{d as h,a as k,U as u,c as w,r as C,o as n,b as r,w as m,e as t,X as D,f as i,Y as v,Z as l,$ as d}from"./index.3ef9dccd.js";import{u as S}from"./useRouteParam.481dae67.js";const E=h({__name:"DeploymentEdit",setup(g){const c=S("id"),f={interval:3e5},_=k(u.getDeployment,[c.value],f),o=w(()=>_.response);async function y(e){e.parameters&&Object.keys(e.parameters).forEach(a=>{var p;const s=(p=e.parameters)==null?void 0:p[a];e.parameters&&s instanceof Date&&(e.parameters[a]=s.toString())});try{await u.updateDeployment(c.value,e),l("Deployment updated","success"),d.back()}catch(a){l("Error updating deployment","error"),console.warn(a)}}function b(){d.back()}return(e,a)=>{const s=C("p-layout-default");return n(),r(s,{class:"deployment-edit"},{header:m(()=>[t(o)?(n(),r(t(D),{key:0,deployment:t(o)},null,8,["deployment"])):i("",!0)]),default:m(()=>[t(o)?(n(),r(t(v),{key:0,deployment:t(o),onSubmit:y,onCancel:b},null,8,["deployment"])):i("",!0)]),_:1})}}});export{E as default};
