import{d as F,u as S,c as l,a as c,Q as h,r as m,o as a,b as r,w as t,e,R,f as u,S as w,i as _,T as g,U as A,p as B,z as N}from"./index.3ef9dccd.js";import{u as U}from"./useRouteParam.481dae67.js";const O=F({__name:"Flow",setup(V){const f=U("id"),d=S(),y=l(()=>{const s=["Deployments"];return N.xl||s.unshift("Details"),s}),i={interval:3e5},b=c(h.getFlow,[f.value],i),o=l(()=>b.response),v=l(()=>({flows:{id:{any_:[f.value]}}})),p=c(A.getDeployments,[v],i),D=l(()=>{var s;return(s=p.response)!=null?s:[]});function k(){d.push(B.flows())}return(s,n)=>{const x=m("p-tabs"),$=m("p-layout-well");return a(),r($,{class:"flow"},{header:t(()=>[e(o)?(a(),r(e(R),{key:0,flow:e(o),onDelete:k},null,8,["flow"])):u("",!0)]),well:t(()=>[e(o)?(a(),r(e(w),{key:0,flow:e(o)},null,8,["flow"])):u("",!0)]),default:t(()=>[_(x,{tabs:e(y)},{details:t(()=>[e(o)?(a(),r(e(w),{key:0,flow:e(o)},null,8,["flow"])):u("",!0)]),deployments:t(()=>[_(e(g),{deployments:e(D),onUpdate:n[0]||(n[0]=C=>e(p).refresh()),onDelete:n[1]||(n[1]=C=>e(p).refresh())},null,8,["deployments"])]),_:1},8,["tabs"])]),_:1})}}});export{O as default};
