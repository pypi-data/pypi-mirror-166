{% extends "admin/change_form.html" %}

{% block admin_change_form_document_ready %}
    {{ block.super }}
    <script>
    window.addEventListener("load", function () {
        (function ($) {
            $("#id_state").change(function () {
                let url = "{% url "admin:select_cities" %}";  // get the url of the `load_cities` view
                let stateUF = $(this).val();

                $.ajax({
                    url: url,
                    data: {'state': stateUF},
                    success: function (data) {
                        $("#id_city").html(data);
                    }
                });

            });
        })(django.jQuery);
    });
    </script>
{% endblock %}
