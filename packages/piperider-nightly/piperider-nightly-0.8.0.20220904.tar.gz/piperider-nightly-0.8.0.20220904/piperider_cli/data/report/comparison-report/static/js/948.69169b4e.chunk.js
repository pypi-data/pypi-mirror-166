"use strict";(self.webpackChunkpiperider_report=self.webpackChunkpiperider_report||[]).push([[948],{8948:function(e,r,s){s.r(r),s.d(r,{default:function(){return k}});var n=s(8735),i=s(6837),t=s(6660),a=s(8625),d=s(228),l=s(2483),c=s(6786),o=s(3442),h=s(6523),x=s(2296),p=s(5984),j=s(184);function u(e){var r=e.data;return(0,j.jsx)(n.kC,{direction:"row",flexWrap:"wrap",gap:4,children:Object.keys(r).map((function(e){var s=r[e];return(0,h.h5)(h.a$.safeParse(s)),(0,j.jsx)(x.f,{columnDatum:s},(0,p.x0)())}))})}var v=s(7005),m=s(4821),f=s(874),b=s(709);function g(e){var r=e.assertionData,s=e.type,i=void 0===s?"piperider":s,t=null===r||void 0===r?void 0:r.tests,a=(null===r||void 0===r?void 0:r.columns)||{};return!t||0===t.length&&0===Object.keys(a).length?(0,j.jsx)(n.kC,{direction:"column",children:(0,j.jsx)(n.xv,{textAlign:"center",children:"No tests available"})}):(0,j.jsx)(n.kC,{direction:"column",gap:4,children:(0,j.jsx)(v.xJ,{children:(0,j.jsxs)(v.iA,{variant:"simple",children:[(0,j.jsx)(v.hr,{children:(0,j.jsxs)(v.Tr,{children:[(0,j.jsx)(v.Th,{children:"Level"}),(0,j.jsx)(v.Th,{children:"Column"}),(0,j.jsx)(v.Th,{children:"Assertion"}),(0,j.jsx)(v.Th,{children:"Status"}),"piperider"===i&&(0,j.jsx)(v.Th,{children:"Expected"}),"piperider"===i&&(0,j.jsx)(v.Th,{children:"Actual"})]})}),(0,j.jsxs)(v.p3,{children:[t.map((function(e){(0,h.h5)(m.S1.safeParse(e));var r="failed"===e.status;return(0,j.jsxs)(v.Tr,{children:[(0,j.jsx)(v.Td,{children:"Table"}),(0,j.jsx)(v.Td,{children:"-"}),(0,j.jsx)(v.Td,{children:e.name}),(0,j.jsx)(v.Td,{children:r?(0,j.jsx)(n.xv,{as:"span",role:"img",children:"\u274c"}):(0,j.jsx)(n.xv,{as:"span",role:"img",children:"\u2705"})}),"piperider"===i&&(0,j.jsx)(v.Td,{children:(0,b.sG)(e.expected)}),"piperider"===i&&(0,j.jsx)(v.Td,{color:r?"red.500":"inherit",children:(0,b.sG)(e.actual)})]},e.name)})),Object.keys(a).map((function(e){var r=a[e];return(0,h.h5)(f.z.array(m.S1).safeParse(r)),r.map((function(r){var s="failed"===r.status;return(0,j.jsxs)(v.Tr,{children:[(0,j.jsx)(v.Td,{children:"Column"}),(0,j.jsx)(v.Td,{children:e}),(0,j.jsx)(v.Td,{children:r.name}),(0,j.jsx)(v.Td,{children:s?(0,j.jsx)(n.xv,{as:"span",role:"img",children:"\u274c"}):(0,j.jsx)(n.xv,{as:"span",role:"img",children:"\u2705"})}),"piperider"===i&&(0,j.jsx)(v.Td,{children:(0,b.sG)(r.expected)}),"piperider"===i&&(0,j.jsx)(v.Td,{color:s?"red.500":"inherit",children:(0,b.sG)(r.actual)})]},r.name)}))}))]})]})})})}var T=s(6157);function _(e){var r=e.table;(0,h.h5)(h.vT.safeParse(r));var s=(0,T.YI)(r.piperider_assertion_result,r.dbt_assertion_result);return(0,j.jsxs)(n.kC,{direction:"column",gap:4,mb:8,children:[(0,j.jsx)(n.X6,{size:"lg",children:"Overview"}),(0,j.jsxs)(n.xv,{children:["Table:"," ",(0,j.jsx)(n.xv,{as:"span",fontWeight:700,children:r.name})]}),(0,j.jsxs)(n.xv,{children:["Rows:"," ",(0,j.jsx)(n.xv,{as:"span",fontWeight:700,children:(0,b.uy)(r.row_count,b.uf)})]}),(0,j.jsxs)(n.xv,{children:["Columns:"," ",(0,j.jsx)(n.xv,{as:"span",fontWeight:700,children:(0,b.uy)(r.col_count,b.uf)})]}),(0,j.jsxs)(n.xv,{children:["Test Status:"," ",(0,j.jsx)(n.xv,{as:"span",fontWeight:700,children:s.passed})," ","Passed,"," ",(0,j.jsx)(n.xv,{as:"span",fontWeight:700,color:s.failed>0?"red.500":"inherit",children:s.failed})," ","Failed"]})]})}function k(e){var r=e.data,s=e.name,x=r.datasource,p=r.tables[s];return(0,h.h5)(h.vT.safeParse(p)),(0,h.h5)(m.U0.safeParse(x)),(0,l.j)(s),(0,c.L)({eventName:o.m.PAGE_VIEW,eventProperties:{type:"single-report",tab:"Profiling"}}),r?(0,j.jsx)(d.o,{isSingleReport:!0,time:(0,b.D8)(r.created_at),children:(0,j.jsxs)(n.kC,{direction:"column",minH:"calc(100vh + 1px)",width:"100%",children:[(0,j.jsx)(n.kC,{mx:"5%",mt:4,children:(0,j.jsxs)(i.aG,{fontSize:"lg",children:[(0,j.jsx)(i.gN,{children:(0,j.jsx)(a.rU,{href:"/",children:(0,j.jsx)(i.At,{href:"/","data-cy":"sr-report-breadcrumb-back",children:x.name})})}),(0,j.jsx)(i.gN,{isCurrentPage:!0,children:(0,j.jsx)(i.At,{href:"#",children:p.name})})]})}),(0,j.jsxs)(n.kC,{border:"1px solid",borderColor:"gray.300",bg:"white",borderRadius:"md",p:6,mt:3,mx:"5%",direction:"column",children:[(0,j.jsx)(_,{table:p}),(0,j.jsxs)(t.mQ,{isLazy:!0,lazyBehavior:"keepMounted",children:[(0,j.jsxs)(t.td,{children:[(0,j.jsx)(t.OK,{"data-cy":"sr-report-profiling-tab",onClick:function(){(0,o._)({eventName:o.m.PAGE_VIEW,eventProperties:{type:"single-report",tab:"Profiling"}})},children:"Profiling"}),(0,j.jsx)(t.OK,{"data-cy":"sr-report-tests-tab",onClick:function(){(0,o._)({eventName:o.m.PAGE_VIEW,eventProperties:{type:"single-report",tab:"Tests"}})},children:"Tests"}),p.dbt_assertion_result&&(0,j.jsx)(t.OK,{"data-cy":"sr-report-dbt-tests-tab",onClick:function(){(0,o._)({eventName:o.m.PAGE_VIEW,eventProperties:{type:"single-report",tab:"dbt Tests"}})},children:"dbt Tests"})]}),(0,j.jsxs)(t.nP,{children:[(0,j.jsx)(t.x4,{children:(0,j.jsx)(u,{data:p.columns})}),(0,j.jsx)(t.x4,{children:(0,j.jsx)(g,{assertionData:p.piperider_assertion_result})}),(null===p||void 0===p?void 0:p.dbt_assertion_result)&&(0,j.jsx)(t.x4,{children:(0,j.jsx)(g,{type:"dbt",assertionData:p.dbt_assertion_result})})]})]})]})]})}):(0,j.jsx)(d.o,{isSingleReport:!0,time:"-",children:(0,j.jsx)(n.kC,{justifyContent:"center",alignItems:"center",minHeight:"100vh",children:"No profile data found."})})}}}]);
//# sourceMappingURL=948.69169b4e.chunk.js.map